# ğŸª ëª©ì„±ì˜ ë…¸ë˜

ë‚´ëŸ¬í‹°ë¸Œ 1ì¸ì¹­ 3D í¼ì¦ ê²Œì„
- â–¶ï¸ [**Play Demo**](https://www.youtube.com/watch?v=UEz0kvJCfAg)
- ğŸ“˜ [**ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤**](https://github.com/Hunobas/Portfolio)

<br />

# ğŸ“‘ ëª©ì°¨

- ğŸ“ í”„ë¡œì íŠ¸ ì •ë³´
  - [ì œì‘ê¸°ê°„](#1-ì œì‘ê¸°ê°„)
  - [ì°¸ì—¬ ì¸ì›](#2-ì°¸ì—¬-ì¸ì›)
  - [ì—­í•  ë¶„ë‹´](#3-ì—­í• -ë¶„ë‹´)
- ğŸ“Œ ì£¼ìš” ì‘ì—… ë‚´ìš©
  - [1ï¸âƒ£ PC ë Œë”ë§ íŒŒì´í”„ë¼ì¸ ìµœì í™”](#1ï¸âƒ£-pc-ë Œë”ë§-íŒŒì´í”„ë¼ì¸-ìµœì í™”)
  - [2ï¸âƒ£ FSM ê¸°ë°˜ í”Œë ˆì´ ëª¨ë“œ ì•„í‚¤í…ì²˜ ì„¤ê³„](#2ï¸âƒ£-fsm-ê¸°ë°˜-í”Œë ˆì´-ëª¨ë“œ-ì•„í‚¤í…ì²˜-ì„¤ê³„)
  - [3ï¸âƒ£ ASCII ì´ë¯¸ì§€ UGUI ë Œë”ëŸ¬ í”ŒëŸ¬ê·¸ì¸ êµ¬í˜„](#3ï¸âƒ£-ascii-ì´ë¯¸ì§€-ugui-ë Œë”ëŸ¬-í”ŒëŸ¬ê·¸ì¸-êµ¬í˜„)
  - [4ï¸âƒ£ íŒ¨ë„ ë“œë˜ê·¸ ì•¤ ë“œë ì‹œìŠ¤í…œ í™•ì¥](#4ï¸âƒ£-íŒ¨ë„-ë“œë˜ê·¸-ì•¤-ë“œë-ì‹œìŠ¤í…œ-í™•ì¥)
  - [5ï¸âƒ£ ìœ ë‹ˆí‹° ì´ë²¤íŠ¸ê·¸ë˜í”„ â†’ ì–¸ë¦¬ì–¼ ë¸”ë£¨í”„ë¦°íŠ¸ì²˜ëŸ¼ í™•ì¥](#5ï¸âƒ£-ìœ ë‹ˆí‹°-ì´ë²¤íŠ¸ê·¸ë˜í”„-í™•ì¥)
  - [6ï¸âƒ£ ëª¨ì…˜ë²¡í„° ì—†ëŠ” ì¹´ë©”ë¼ ëª¨ì…˜ë¸”ëŸ¬ ì…°ì´ë” êµ¬í˜„](#6ï¸âƒ£-ëª¨ì…˜ë²¡í„°-ì—†ëŠ”-ì¹´ë©”ë¼-ëª¨ì…˜ë¸”ëŸ¬-ì…°ì´ë”-êµ¬í˜„)

<br />

---

# ğŸ“ í”„ë¡œì íŠ¸ ì •ë³´

### 1. ì œì‘ê¸°ê°„

> 2025.07.01 ~ 2025.12.08

### 2. ì°¸ì—¬ ì¸ì›

> |                    Name                    |  Position   |
> | :----------------------------------------: | :---------: |
> | ê¹€ì¬í™˜ | 3D ì•„íŠ¸ ë° UI ë””ìì´ë„ˆ |
> | ë°•íƒœí›ˆ | Unity í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë˜ë¨¸ |
> | ì´ìƒë¯¼ | Unity í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë˜ë¨¸ |
> | ì •ì˜í˜¸ | ê¸°íš |
> | ë°•ì±„ì—° | 2D ì•„íŠ¸ |

### 3. ì—­í•  ë¶„ë‹´

> - ë°•íƒœí›ˆ : ê²Œì„ íë¦„ FSM êµ¬ì¶• + ì‚¬ì¸íŒŒ í¼ì¦ ë¡œì§ êµ¬í˜„ + íŒ¨ë„ ê°€ìƒ ì»¤ì„œ ë“œë˜ê·¸ & ë“œë ì‹œìŠ¤í…œ + ë¡œì»¬ë¼ì´ì§• + `SliceGlitch/ASCIIImage/MotionBlur` ì…°ì´ë” êµ¬í˜„

<br />

---

### [1ï¸âƒ£ PC ë Œë”ë§ íŒŒì´í”„ë¼ì¸ ìµœì í™”](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

<img width="1370" height="814" alt="image" src="https://github.com/user-attachments/assets/b1cb833c-c6ae-4603-bdc4-5901bd7b340f" />

**400ë§Œ ë²„í…ìŠ¤ + 300ê°œ ë¨¸í„°ë¦¬ì–¼ â†’ 30~60 FPSë¡œ ë¶ˆì•ˆì •**

ëª©ì„±ì˜ ë…¸ë˜ì˜ ìš°ì£¼ ì •ê±°ì¥ ì”¬ì€ 3060ti í™˜ê²½ì—ì„œë„ ì—ë””í„° ì”¬ ì „í™˜ì— 2ì´ˆ ì´ìƒ, ì¸ê²Œì„ FPSë„ ë“¤ì­‰ë‚ ì­‰í–ˆìŠµë‹ˆë‹¤.

- ë°°ì¹­ ìˆ˜ **2,600ê°œ** ì´ìƒ
- CPU Usageë§Œ í•œ í”„ë ˆì„ì— **10ms** ì´ìƒ

<img width="482" height="360" alt="image" src="https://github.com/user-attachments/assets/6e7cd80a-cb53-408a-adff-cc3937bbbceb" />
<br /> *â†‘ ìµœì í™” ì „: ë°°ì¹­ ìˆ˜ 2,600ê°œ, CPU í”„ë ˆì„ë‹¹ 10ms ì´ìƒ*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

**MeshBakerë¡œ í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ + ì½¤ë°”ì¸ ë©”ì‰¬ â†’ ì˜¤í´ë£¨ì „ ì»¬ë§ìœ¼ë¡œ GPU ë¶€í•˜ ê°ì†Œ**

1. **MeshBaker í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ + ì½¤ë°”ì¸ ë©”ì‰¬**
```plaintext
Before: 300ê°œ ë¨¸í„°ë¦¬ì–¼ Ã— ìˆ˜ì²œ ê°œ ë©”ì‰¬ â†’ SRP Batcherë¡œë„ Draw Call ìˆ˜ì²œ ë²ˆ
After:  ë°© ë‹¨ìœ„ 1ê°œ ë¨¸í„°ë¦¬ì–¼ Ã— 1ê°œ ë©”ì‰¬ â†’ Draw Call 1ê°œ
```

- `MB3_TextureBaker`ë¡œ ë¨¸í„°ë¦¬ì–¼ë“¤ì„ í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ë¡œ í†µí•©
- `MB3_MeshBakerGrouper`ë¡œ ë°© ë‹¨ìœ„ í´ëŸ¬ìŠ¤í„°ë§ í›„ ì½¤ë°”ì¸ ë©”ì‰¬ ìƒì„±

2. **ì˜¤í´ë£¨ì „ ì»¬ë§ ì„¤ì •**
```plaintext
Smallest Occluder: 1m
Smallest Hole: 0.5m
Backface Threshold: 15
```

- ì‹¤ë‚´ ì”¬ íŠ¹ì„±ìƒ ë²½/ë¬¸ì´ ìì—°ìŠ¤ëŸ¬ìš´ Occluder ì—­í• 
- GPUê°€ ë³´ì´ì§€ ì•ŠëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë Œë”ë§í•˜ì§€ ì•ŠìŒ

<br />

[ğŸ“‚ MeshBaker ì—ë””í„° í™•ì¥ ì½”ë“œ](https://github.com/Hunobas/Song-Of-Jupitor/blob/main/Plugins/MeshBaker/Editor/MB3_MeshBakerGrouperEditor.cs)
<br /> [ğŸ“œ ê°œë°œì¼ì§€ ì „ë¬¸](https://velog.io/@po127992/ëª©ì„±ì˜-ë…¸ë˜-MeshBaker-ìµœì í™”-ì‚½ì§ˆê¸°-í…ìŠ¤ì²˜-ì•„í‹€ë¼ìŠ¤ë§Œ-vs-ì½¤ë°”ì¸-ë©”ì‰¬ê¹Œì§€)

#### ğŸ“Š ì„±ê³¼

<img width="1914" height="487" alt="image" src="https://github.com/user-attachments/assets/ae54d0cd-f24b-4357-8bf0-73c0634bd549" />
<br /> *â†‘ ìµœì í™” ì „: CPU/GPU ì´í•© 1í”„ë ˆì„ í‰ê·  15ms ì†Œìš”, ìŠ¤íŒŒì´í¬ ë‹¤ìˆ˜*

<img width="1887" height="464" alt="image" src="https://github.com/user-attachments/assets/726fb8cd-71cc-4869-b42b-cff7c3be2427" />
<br /> *â†‘ ìµœì í™” í›„: CPU/GPU ëª¨ë‘ ì•ˆì •í™”*

| ë‹¨ê³„ | Batches | CPU | GPU | FPS |
|------|---------|-----|-----|-----|
| ê¸°ì¤€ì„  | 2,650 | 12.5ms | 8.24ms | 30~60 |
| MeshBaker ì ìš© | 750 | 5ms | 8ms | 80~100 |
| ì˜¤í´ë£¨ì „ ì»¬ë§ ì ìš© | 601 | 8ms | 6.26ms | **120+** |

*ê¸°ì¤€ - CPU ë¼ì´ì  5 7600X | GPU NVDIA 3060Ti*

<br />

<details>
<summary><b>ğŸ”§ ê³ ì°° ê³¼ì • 1: ì½¤ë°”ì¸ ë©”ì‰¬ ì ìš© í›„ **ì‹¤ì‹œê°„ ê·¸ë¦¼ìë¡œ Verts ìˆ˜ í­ì¦** (2.5M â†’ 11.9M)</b></summary>

<br />

<img width="1271" height="481" alt="image" src="https://github.com/user-attachments/assets/869a229f-477d-4ff6-a61f-69fa2bf32e56" />
<br /> *â†‘ ì‹¤ì‹œê°„ ê·¸ë¦¼ì ON ì‹œ Verts í­ì¦ í˜„ìƒ*

**ê°€ì„¤:** ì½¤ë°”ì¸ ë©”ì‰¬ ì—†ì´ í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ë§Œ ì ìš©í•˜ë©´ ê·¸ë¦¼ì ë¬¸ì œê°€ í•´ê²°ë ê¹Œ?

MeshBaker ì—ë””í„° ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™•ì¥í•˜ì—¬ "Material Only" ë°©ì‹ì„ ì§ì ‘ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤:
- ì›ë³¸ ë©”ì‰¬ì˜ UVë¥¼ Atlas ì¢Œí‘œë¡œ ì¬ë§¤í•‘
- ë‹¤ì¤‘ ë¨¸í„°ë¦¬ì–¼(ì„œë¸Œë©”ì‰¬) ì¼€ì´ìŠ¤ ì²˜ë¦¬
- ë©”ì‰¬ ì—ì…‹ ìë™ ì €ì¥ìœ¼ë¡œ í”„ë¦¬íŒ¹ í˜¸í™˜

**ì‹¤í—˜ ê²°ê³¼:**

| í•­ëª© | ì½¤ë°”ì¸ ë©”ì‰¬ | í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ Only | ë³€í™” |
|------|------------|-------------------|------|
| FPS | 75.3 | 53.6 | ğŸ“‰ -29% |
| Batches | 5,808 | 10,089 | ğŸ“‰ +74% |
| Verts | 64.3M | 18.3M | ğŸ“ˆ -72% |

VertsëŠ” 72% ê°ì†Œí–ˆì§€ë§Œ **Draw Call 74% ì¦ê°€ë¡œ ì „ì²´ ì„±ëŠ¥ í•˜ë½**.
ì´ ì”¬ì—ì„œëŠ” ì½¤ë°”ì¸ ë©”ì‰¬ í´ëŸ¬ìŠ¤í„°ë§ + ì˜¤í´ë£¨ì „ ì»¬ë§ ë° LOD + ë¼ì´íŠ¸ë§µ ë² ì´í‚¹ì´ ì •ë‹µì´ì—ˆìŠµë‹ˆë‹¤.

</details>

<br />
<br />

---

## ğŸ“Œ ì£¼ìš” ì‘ì—… ë‚´ìš©

### [2ï¸âƒ£ FSM ê¸°ë°˜ í”Œë ˆì´ ëª¨ë“œ ì•„í‚¤í…ì²˜ ì„¤ê³„](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

**íŒ¨ë„ ì—¬ëŠ” ì¹´ë©”ë¼ ë¸”ë Œë”© ì¤‘ â†’ ì‹œë„¤ë§ˆ ì¬ìƒ â†’ ì‹œë„¤ë§ˆ ì¢…ë£Œ â†’ ì•„ë¬´ ê²ƒë„ í•  ìˆ˜ ì—†ìŒ**

í”Œë ˆì´ì–´ê°€ ì¸ê²Œì„ íŒ¨ë„ì„ ì—¬ëŠ” ë„ì¤‘ ì»·ì”¬ì´ ì¬ìƒë˜ë©´, ì»·ì”¬ì´ ëë‚˜ë„ **ì¡°ì‘ ë¶ˆê°€ ìƒíƒœ**ê°€ ë˜ëŠ” ì¹˜ëª…ì  ë²„ê·¸ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

- 5ê°€ì§€ í”Œë ˆì´ ëª¨ë“œ(Normal/Panel/Cinema/Dialog/Pause)ê°€ **ìƒí˜¸ë°°íƒ€ì **ì´ì–´ì•¼ í•˜ëŠ”ë° **ì¤‘ì²© ë°œìƒ**
- ê° ëª¨ë“œ ì „í™˜ ì‹œ ì •ë¦¬í•´ì•¼ í•  ìƒíƒœê°€ **ì—¬ëŸ¬ íŒŒì¼ì— ë¶„ì‚°**
- ë””ë²„ê¹… ì‹œ ì–´ë””ì„œ ìƒíƒœê°€ ê¼¬ì˜€ëŠ”ì§€ ì¶”ì í•˜ëŠ” ë°ì— **í‰ê·  1ì‹œê°„ ì†Œìš”**

![GameState ë²„ê·¸ ì˜ìƒ](https://github.com/user-attachments/assets/fa973d2f-df58-483d-ae3b-05d5104e9bc6)
<br /> *â†‘ íŒ¨ë„ ëª¨ë“œ ì§„ì… ì¤‘ ì‹œë„¤ë§ˆ ëª¨ë“œê°€ ë¼ì–´ë“¤ë©´ ë°œìƒí•˜ëŠ” ì¡°ì‘ ë¶ˆê°€ ë¬¸ì œ*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

<img width="1020" height="458" alt="ê·¸ë¦¼1" src="https://github.com/user-attachments/assets/d0b930d5-8c1a-4120-8fbd-e9b4ee1dfc44" />

**ì¤‘ì•™ ì§‘ì¤‘ì‹ FSMìœ¼ë¡œ ëª¨ë“  í”Œë ˆì´ ëª¨ë“œë¥¼ ë‹¨ì¼ ì±…ì„ ê´€ë¦¬**

1. **ì¬í™œìš©ë  í”Œë ˆì´ ëª¨ë“œ ë¯¸ë¦¬ ì •ì˜**

```csharp
// GameState.cs
protected override void Awake()
{
    base.Awake();
    _pauseMode  ??= new PauseMode(this);
    _cinemaMode ??= new CinemaMode(this);
    _dialogMode ??= new DialogMode(this);
    _panelMode  ??= new PanelMode(this);
    _normalMode ??= new NormalMode();

    _activeMode = _normalMode;
}
```

2. **ìƒíƒœ ì¤‘ì²© ë°©ì§€**
   
```csharp
  public void ChangePlayMode(IPlayMode next)
  {
      if (next == null || ReferenceEquals(_activeMode, next))
          return;
      
      // ì‹œë„¤ë§ˆ ëª¨ë“œëŠ” íŠ¹ë³„í•˜ê²Œ, ì¼ì‹œì •ì§€ ëª¨ë“œ ì´ì™¸ ë‹¤ë¥¸ ëª¨ë“œì˜ ë°©í•´ë¥¼ ë°›ì§€ ì•Šì•„ì•¼ í•˜ë¯€ë¡œ ìì‹ ì´ ì‹œë„¤ë§ˆ ëª¨ë“œë¥¼ ëë‚´ê¸° ì „ê¹Œì§€ ëª¨ë“œ ë³€ê²½ ë¬´ì‹œ. 
      if (IsPlayingCinema && !ReferenceEquals(next, PauseMode))
          return;
      
      // íŒ¨ë„ ëª¨ë“œ í•œë²ˆ ë” ì²´í¬ (ë””ë²„ê¹… ì‹œ íŒ¨ë„ ëª¨ë“œ ìë™ ì¢…ë£Œ)
      if (IsOperatingPanel && PanelMode.Controller != null)
      {
          PanelMode.Controller.EndPanelForcely();
      }

      var prev = _activeMode;
      prev?.OnExit(next);
      _activeMode = next;
      _activeMode.OnEnter(prev);

      InputManager.Instance?.UpdateCursorLock();
  }
```

3. **ìë™ ì •ë¦¬ í›…**

```csharp
// íŒ¨ë„ ëª¨ë“œì˜ ê²½ìš° PanelMode.OnExitì—ì„œ UI ìƒíƒœ ì •ë¦¬
public void OnExit(IPlayMode next)
{
    if (Controller == null)
        return;
    
    Controller = null;
    OnExitEvent?.Invoke();
    _owner.ScreenDirector.FadeInIcons();
    _owner.StaminaBarUI.CanRun = true;
    _owner.ScreenDirector.ShowCrosshair();
    _owner.InputManager.BindToWorld();
}
```

[ğŸ“‚ ì „ì²´ ì½”ë“œ ë³´ê¸°](https://github.com/Hunobas/Song-Of-Jupitor/blob/7386ab978fc3115a13a700758c7a618567bc168a/Scripts/System/GameState.cs#L15)

#### ğŸ“Š ì„±ê³¼

| ê°œì„  í•­ëª© | Before | After | íš¨ê³¼ |
|---------|--------|-------|-----|
| ìƒíƒœ ì¶©ëŒ ë²„ê·¸ | ì£¼ 2-3ê±´ ë°œìƒ | **0ê±´** | 100% í•´ê²° |
| ë””ë²„ê¹… ì†Œìš” ì‹œê°„ | í‰ê·  60ë¶„ | í‰ê·  30ë¶„ | **50% ê°ì†Œ** |
| ì‹ ê·œ ëª¨ë“œ ì¶”ê°€ ì‹œê°„ | - | 20ë¶„ ì´ë‚´ | `IPlayMode`ë§Œ êµ¬í˜„ |

<br />

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 1: ì¼ì‹œì •ì§€ í•´ì œ ì‹œ ì´ì „ í”Œë ˆì´ ëª¨ë“œë¥¼ ê¸°ì–µí•˜ì§€ ëª»í•¨</b></summary>

<br />

**`PauseMode`ê°€ `prevMode` ì €ì¥ í›„ ìì²´ `Resume()` ë©”ì„œë“œë¡œ ë³µêµ¬**
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸°](https://github.com/Hunobas/Song-Of-Jupitor/blob/7386ab978fc3115a13a700758c7a618567bc168a/Scripts/System/PauseMode.cs#L34)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 2: ì‹œë„¤ë§ˆ ëª¨ë“œ ì¤‘ ë‹¤ì´ì–¼ë¡œê·¸ ëª¨ë“œë¡œ ì „í™˜ë˜ë©´ ì‹œë„¤ë§ˆ ì¤‘ë‹¨</b></summary>

<br />

- **`ChangePlayMode`ì—ì„œ ì‹œë„¤ë§ˆ ëª¨ë“œ ì§„ì… ì‹œ ë‹¤ë¥¸ ëª¨ë“œ ìš”ì²­ ë¬´ì‹œ**
- ì‹œë„¤ë§ˆ ëª¨ë“œëŠ” `TimelineController`ì—ì„œ **ìì²´ì ìœ¼ë¡œ ì¢…ë£Œ**

<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - `GameState.ChangePlayMode`](https://github.com/Hunobas/Song-Of-Jupitor/blob/7386ab978fc3115a13a700758c7a618567bc168a/Scripts/System/GameState.cs#L66)
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - `CinemaMode.ExitCinemaMode`](https://github.com/Hunobas/Song-Of-Jupitor/blob/7386ab978fc3115a13a700758c7a618567bc168a/Scripts/System/CinemaMode.cs#L27)
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - `TimelineController.OnTimelineStopped`](https://github.com/Hunobas/Song-Of-Jupitor/blob/7386ab978fc3115a13a700758c7a618567bc168a/Scripts/System/TimelineController.cs#L102)

</details>

<br />
<br />

---

### [3ï¸âƒ£ ASCII ì´ë¯¸ì§€ UGUI ë Œë”ëŸ¬ í”ŒëŸ¬ê·¸ì¸ êµ¬í˜„](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

**ì•„íŠ¸ íŒ€ì´ ì•„ìŠ¤í‚¤ ì•„íŠ¸ë¥¼ í¸ì§‘í•  ë•Œë§ˆë‹¤ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ìš”ì²­**

ê²Œì„ ë‚´ í„°ë¯¸ë„ UIì— ì•„ìŠ¤í‚¤ ì•„íŠ¸ê°€ í•„ìš”í–ˆì§€ë§Œ, ê¸°ì¡´ ë°©ì‹ì€ ì•„íŠ¸ íŒ€ì˜ ì‘ì—… íë¦„ì„ ë§‰ì•˜ìŠµë‹ˆë‹¤.

- í¬í† ìƒµì—ì„œ ASCII ë³€í™˜ â†’ í…ìŠ¤íŠ¸ íŒŒì¼ â†’ Unityì— ìˆ˜ë™ ë³µë¶™
- ìƒ‰ìƒ/ë°ê¸° ì¡°ì •í•  ë•Œë§ˆë‹¤ **ì „ì²´ ê³¼ì • ë°˜ë³µ**
- ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ë§ˆë‹¤ **ìˆ˜ì‘ì—… í•„ìš”**
- ì•„íŠ¸ íŒ€ì›: "ì´ê±° ì¢€ ë” ë°ê²Œ í•´ì£¼ì„¸ìš”" â†’ í”„ë¡œê·¸ë˜ë¨¸ í˜¸ì¶œ

![image (2)](https://github.com/user-attachments/assets/389ec02c-9fdf-4cdd-aa57-0c9e79bbfa4b)
<br /> *â†‘ ëª©í‘œ: Unity ì—ë””í„°ì—ì„œ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ê°€ëŠ¥í•œ ì•„ìŠ¤í‚¤ ë Œë”ëŸ¬*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

[ë‚˜ì´ë¸Œí–ˆë˜ ì´ˆê¸° êµ¬í˜„: CPUì—ì„œ ëª¨ë“  í”½ì…€ ì½ì€ í›„ ì•„ìŠ¤í‚¤ ë¬¸ì ë³€í™˜](https://github.com/Hunobas/Song-Of-Jupitor/blob/687a96614dea727599ce651bbc00cf15cac9f099/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L312)

**ğŸ› ë¬¸ì œì :**
   - 160Ã—90 ê·¸ë¦¬ë“œ Ã— 4Ã—4 ìŠˆí¼ìƒ˜í”Œ = **230,400íšŒ** í”½ì…€ ì ‘ê·¼
   - ê° í”½ì…€ë§ˆë‹¤ `<color>` íƒœê·¸ ìƒì„± â†’ **ë¬¸ìì—´ ê¸¸ì´ 76,800ì**
   - `Update()` í˜¸ì¶œ ì‹œ **CPU ì ìœ  27.6ms, í”„ë ˆì„ ë¹„ì¤‘ 70.4%**

**ë¹„ë™ê¸° Readback + ìƒ‰ì´ ë°”ë€ŒëŠ” êµ¬ê°„ì—ë§Œ íƒœê·¸ + ìƒ‰ìƒ í•´ìƒë„ ë‚®ì¶¤**

[ğŸ“‚ ì „ì²´ ì½”ë“œ ë³´ê¸°](https://github.com/Hunobas/Song-Of-Jupitor/blob/eb4c59e1717a806b9d3d89dc7e6dd77ab297f198/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L51)  
[ğŸ“‚ ì´ˆê¸° ë²„ì „ (ìµœì í™” ì „)](https://github.com/Hunobas/Song-Of-Jupitor/blob/687a96614dea727599ce651bbc00cf15cac9f099/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L26)  
[ğŸ“ UPM í”ŒëŸ¬ê·¸ì¸ GitHub](https://github.com/Hunobas/AsciiImageUGUI-UPM)  
[ğŸ“œ ê°œë°œì¼ì§€ ì „ë¬¸](https://velog.io/@po127992/ëª©ì„±ì˜-ë…¸ë˜-Unity-ASCII-ë Œë”ëŸ¬-ê³µìœ -ë°-ê°œë°œì¼ì§€)

#### ğŸ“Š ì„±ê³¼

<img width="1181" height="250" alt="image" src="https://github.com/user-attachments/assets/7b108303-6448-4f9e-9d31-c916c3d97ea6" />

| ê°œì„  í•­ëª© | Before | After | ê°œì„ ë¥  |
|---------|--------|-------|--------|
| CPU ì‹œê°„ (1í”„ë ˆì„) | 27.6ms | **2.15ms** | **92% ê°ì†Œ** |
| í”„ë ˆì„ ë¹„ì¤‘ | 70.4% | **3.5%** | **95% ê°ì†Œ** |
| ë¬¸ìì—´ ê¸¸ì´ | 76,800ì | ~20,000ì | **74% ê°ì†Œ** |
| ì•„íŠ¸ íŒ€ ì‘ì—… ì‹œê°„ | ì¡°ì •ë‹¹ 5ë¶„ | **ì‹¤ì‹œê°„** | - |

<br />

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 1: GPU â†’ CPU ì „ì†¡ì´ ëë‚  ë•Œê¹Œì§€ ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡í‚¹</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - `ReadPixels` ì´í›„ ì¦‰ì‹œ `Apply`](https://github.com/Hunobas/Song-Of-Jupitor/blob/687a96614dea727599ce651bbc00cf15cac9f099/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L235)

**â‘  GPU ë‹¤ìš´ìƒ˜í”Œ ë¨¼ì € ìˆ˜í–‰**

```csharp
// ì»¤ìŠ¤í…€ ì…°ì´ë”ë¡œ Sprite UV ì˜ì—­ë§Œ ì˜ë¼ì„œ ë‹¤ìš´ìƒ˜í”Œ
Shader "Hidden/Ascii/UVBlit"
{
    Properties { _MainTex ("", 2D) = "white" {} }
    SubShader
    {
        Pass
        {
            CGPROGRAM
            #pragma vertex vert
            #pragma fragment frag
            
            float4 _UVRect; // (x, y, width, height)
            float _FlipY;
            
            float2 vert(float4 pos : POSITION) : TEXCOORD0
            {
                float2 uv = pos.xy * 0.5 + 0.5;
                uv = _UVRect.xy + uv * _UVRect.zw;
                if (_FlipY > 0.5) uv.y = 1.0 - uv.y;
                return uv;
            }
            
            fixed4 frag(float2 uv : TEXCOORD0) : SV_Target
            {
                return tex2D(_MainTex, uv);
            }
            ENDCG
        }
    }
}
```

```csharp
void DownsampleToRT()
{
    // ìŠ¤í”„ë¼ì´íŠ¸ UV ì˜ì—­ë§Œ ì˜ë¼ì„œ 160Ã—90Ã—4 í¬ê¸°ë¡œ ì¶•ì†Œ
    _blitMat.SetVector(_UVRectID, new Vector4(
        _spriteUv.x, _spriteUv.y, 
        _spriteUv.width, _spriteUv.height
    ));
    Graphics.Blit(_srcTex, _downRT, _blitMat);
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - DownsampleToRT](https://github.com/Hunobas/Song-Of-Jupitor/blob/eb4c59e1717a806b9d3d89dc7e6dd77ab297f198/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L504)

**â‘¡ AsyncGPUReadbackìœ¼ë¡œ ë¹„ë™ê¸° ì „ì†¡**

```csharp
AsyncGPUReadbackRequest _pendingReq;
NativeArray<Color32> _frame;
bool _frameValid;

void KickReadback()
{
    if (_downRT == null || _pendingReq.done == false)
        return;
    
    // ë¹„ë™ê¸° ìš”ì²­ (ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡ ì•ˆ í•¨)
    _pendingReq = AsyncGPUReadback.Request(_downRT, 0, OnReadbackComplete);
}

void OnReadbackComplete(AsyncGPUReadbackRequest req)
{
    if (req.hasError) return;
    
    // GPU â†’ CPU ì „ì†¡ ì™„ë£Œ (ë°±ê·¸ë¼ìš´ë“œ)
    _frame.CopyFrom(req.GetData<Color32>());
    _frameValid = true;
}

void Update()
{
    DownsampleToRT();      // GPU ì‘ì—… íì— ì¶”ê°€
    KickReadback();        // ë¹„ë™ê¸° ìš”ì²­
    TryConsumeReadback();  // ì´ì „ í”„ë ˆì„ ë°ì´í„° ì†Œë¹„
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - AsyncGPUReadback](https://github.com/Hunobas/Song-Of-Jupitor/blob/eb4c59e1717a806b9d3d89dc7e6dd77ab297f198/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L536)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 2: ëª¨ë“  í”½ì…€ë§ˆë‹¤ ìƒì„±ë˜ëŠ” ì»¬ëŸ¬ íƒœê·¸ë¡œ ë¬¸ìì—´ ì˜¤ë²„í—¤ë“œ ì¦ê°€</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - í”½ì…€ ë‹¹ Append(`<color=#RRGGBB>ë¬¸ì</color>`) ìˆ˜í–‰](https://github.com/Hunobas/Song-Of-Jupitor/blob/687a96614dea727599ce651bbc00cf15cac9f099/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L421)

**ìƒ‰ì´ ë°”ë€ŒëŠ” êµ¬ê°„ì—ë§Œ íƒœê·¸ ì—´ê³ /ë‹«ê¸°**

```csharp
// âŒ ê¸°ì¡´: í”½ì…€ë§ˆë‹¤ íƒœê·¸
for (int c = 0; c < cols; c++)
{
    Color avg = SamplePixel(c, r);
    _sb.Append($"<color=#{ToHex(avg)}>{ch}</color>");
}
// ê²°ê³¼: <color=#FF0000>A</color><color=#FF0000>B</color><color=#FE0000>C</color>
```

```csharp
// âœ… ê°œì„ : ìƒ‰ êµ¬ê°„ ë³‘í•©
int lastColorKey = -1;
bool colorOpen = false;

for (int c = 0; c < cols; c++)
{
    int key = Quantize12bit(avg);
    
    if (key != lastColorKey)
    {
        if (colorOpen) _sb.Append("</color>");
        _sb.Append(GetOrMakeColorTag(key));
        colorOpen = true;
        lastColorKey = key;
    }
    
    _sb.Append(ch);
}
// ê²°ê³¼: <color=#FF0000>AB</color><color=#FE0000>C</color>
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - GenerateAsciiFromFrame](https://github.com/Hunobas/Song-Of-Jupitor/blob/eb4c59e1717a806b9d3d89dc7e6dd77ab297f198/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L690)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 3: "ì¦ì€ ìƒ‰ìƒ ë³€ê²½ êµ¬ê°„ == ì¦ì€ ì»¬ëŸ¬ íƒœê·¸ ì¶”ê°€"ë¡œ ë¬¸ìì—´ ì˜¤ë²„í—¤ë“œ ì¦ê°€</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - ì§€ë‚˜ì¹˜ê²Œ ì—„ë°€í•œ ìƒ‰ìƒ ê³„ì‚° ê³¼ì •](https://github.com/Hunobas/Song-Of-Jupitor/blob/687a96614dea727599ce651bbc00cf15cac9f099/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L400)

**ê° ì±„ë„ì„ 4bitë¡œ ì–‘ìí™” â†’ 4096ê°€ì§€ ìƒ‰ë§Œ ì‚¬ìš©**

```csharp
// 12bit ì–‘ìí™” (R4G4B4)
int Quantize12bit(Color avg)
{
    return ((int)(avg.r * 15f) << 8) |  // R: 0-15
           ((int)(avg.g * 15f) << 4) |  // G: 0-15
           (int)(avg.b * 15f);          // B: 0-15
    // ì´ 16 Ã— 16 Ã— 16 = 4096ê°€ì§€
}

// ìºì‹œì—ì„œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
Dictionary<int, string> _colorTagCache = new(256);

string GetOrMakeColorTag(int key)
{
    if (_colorTagCache.TryGetValue(key, out var tag))
        return tag;  // â˜… ìºì‹œ íˆíŠ¸
    
    // 4bit â†’ 8bit ë³µì› (0-15 â†’ 0-255)
    byte r4 = (byte)((key >> 8) & 0xF);
    byte r = (byte)((r4 << 4) | r4);  // ì˜ˆ: 15 â†’ 255
    
    tag = $"<color=#{r:X2}{g:X2}{b:X2}>";
    _colorTagCache[key] = tag;
    return tag;
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - GetOrMakeColorTag](https://github.com/Hunobas/Song-Of-Jupitor/blob/eb4c59e1717a806b9d3d89dc7e6dd77ab297f198/Scripts/Renders/ASCIIImage/AsciiImageUGUI.cs#L720)

</details>

<br />
<br />

---

### [4ï¸âƒ£ íŒ¨ë„ ë“œë˜ê·¸ ì•¤ ë“œë ì‹œìŠ¤í…œ í™•ì¥](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

**ê¸°ì¡´ íŒ¨ë„ ì‹œìŠ¤í…œì— í´ë¦­/í˜¸ë²„ë§ ê¸°ëŠ¥ë§Œ ì¡´ì¬**

ì‹œê·¸ë„ í¼ì¦ì— **ë“œë˜ê·¸ & ë“œë** ê¸°ëŠ¥ì´ ìš”êµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.

- ê¸°ì¡´ íŒ¨ë„ ì‹œìŠ¤í…œì—ì„œëŠ” í¬ë¡œìŠ¤í—¤ì–´(ì›”ë“œ ì¡°ì‘ìš©)ì™€ íŒ¨ë„ UI(ìº”ë²„ìŠ¤ ì¡°ì‘ìš©)ê°€ **ë™ì‹œì— ë°˜ì‘**
- ë“œë˜ê·¸ ì¤‘ ìº”ë²„ìŠ¤ ë°–ìœ¼ë¡œ ë²—ì–´ë‚˜ë©´ **ì…ë ¥ ìœ ì‹¤**

![ì‹œê·¸ë„ í¼ì¦](https://github.com/user-attachments/assets/a160c3f4-1c15-4820-ba24-a88395dc58cf)
<br /> *â†‘ ëª©í‘œ: ë“œë˜ê·¸ & ë“œë ê¸°ëŠ¥ì´ í•„ìš”í•œ ì‹œê·¸ë„ í¼ì¦*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

**Unityì˜ EventSystem íŒŒì´í”„ë¼ì¸ì„ ì™„ì „íˆ ì¬êµ¬í˜„**
```plaintext
PointerDown
â†“
initializePotentialDrag (ë“œë˜ê·¸ ì¤€ë¹„)
â†“
(ì¼ì • ê±°ë¦¬ ì´ë™) â†’ BeginDragHandler
â†“
DragHandler
â†“
PointerUp
â†“
EndDragHandler
```

1. **ê¸°ë³¸ í´ë¦­ë§Œ êµ¬í˜„**
```csharp
  // ë“œë˜ê·¸ê°€ ì—†ì–´ì„œ Slider ì¡°ì‘ ë¶ˆê°€
  private void PointerDown()
  {
      var results = RaycastAtCursor();
      _pressedObject = results.FirstOrDefault().gameObject;
      
      var ped = BuildPointerData();
      ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.pointerDownHandler);
  }
  
  private void PointerUp()
  {
      var ped = BuildPointerData();
      ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.pointerUpHandler);
      ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.pointerClickHandler);
  }
```

2. **ë“œë˜ê·¸ ê¸°ëŠ¥ ì¶”ê°€**
```csharp
  private void PointerDragTick()
  {
      if (_pressedObject == null) return;
  
      var ped = BuildPointerData();
  
      if (!_isDragging)
      {
          ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.beginDragHandler);
          _isDragging = true;
      }
  
      ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.dragHandler);
  }
```

**ğŸ› ë¬¸ì œì :**
   - ê·¹ì†ŒëŸ‰ ì›€ì§ì—¬ë„ ë“œë˜ê·¸ë¡œ ì¸ì‹ â†’ í´ë¦­ì´ ì•ˆ ë¨
   - ì´ë¯¸ ëˆŒë¦° ìƒíƒœì—ì„œ ë‹¤ì‹œ Down â†’ ì´ì „ ì…ë ¥ì´ ì •ë¦¬ ì•ˆ ë¨
   - ë§ˆìš°ìŠ¤ ì™¼ìª½ Down â†’ ì˜¤ë¥¸ìª½ Up â†’ ì´ë²¤íŠ¸ ì§ì´ ì•ˆ ë§ìŒ
   - Slider Handle í´ë¦­ â†’ Slider ë³¸ì²´ê°€ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì•¼ í•¨

<br /> 3. **Unity EventSystemê³¼ ë™ì¼í•œ ìˆ˜ì¤€ìœ¼ë¡œ ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬**

[ğŸ“‚ ì´ˆê¸° ë²„ì „ ì½”ë“œ](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/System/PanelBase.cs#L307)
<br /> [ğŸ“‚ ìµœì¢… ë²„ì „ ì½”ë“œ](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L219)

#### ğŸ“Š ì„±ê³¼

1. **í´ë¦­ê³¼ ë“œë˜ê·¸**ê°€ ëª…í™•íˆ êµ¬ë¶„ë¨
2. ì—°ì† í´ë¦­ ì‹œ ì´ì „ ìƒíƒœê°€ ê°„ì„­í•˜ì§€ ì•ŠìŒ
3. ë§ˆìš°ìŠ¤ ì–‘ìª½ ë²„íŠ¼ì„ ë™ì‹œì— ì‚¬ìš©í•´ë„ ì´ë²¤íŠ¸ ì¶©ëŒ ì—†ìŒ
4. **Slider ë³¸ì²´**ê°€ ë°˜ì‘
5. ì˜ˆìƒì¹˜ ëª»í•œ ì…ë ¥ ìœ ì‹¤ì—ë„ ìƒíƒœê°€ ìë™ ë³µêµ¬ë¨

<br />

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 1: 1í”½ì…€ë§Œ ì›€ì§ì—¬ë„ ë“œë˜ê·¸ë¡œ ì¸ì‹ë˜ì–´ í´ë¦­ì´ ë¶ˆê°€ëŠ¥</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - `PointerDragTick`](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/System/PanelBase.cs#L330)

**ë“œë˜ê·¸ ì„ê³„ê°’ ì ìš©**

```csharp
// Unityì˜ ê¸°ë³¸ ì„ê³„ê°’ ìºì‹±
protected virtual void Awake()
{
    if (EventSystem.current != null)
    {
        float th = EventSystem.current.pixelDragThreshold;
        _dragThresholdSqr = th * th; // ì œê³±í•´ì„œ ì €ì¥ (sqrMagnitude ë¹„êµìš©)
    }
}
```

```csharp
private void PointerDragTick()
{
    if (!_pressedSupportsDrag) return; // â˜… ë“œë˜ê·¸ ì§€ì› ì—¬ë¶€ í™•ì¸
    
    // â˜… ì„ê³„ê°’ ì´ìƒ ì´ë™í•´ì•¼ë§Œ ë“œë˜ê·¸ ì‹œì‘
    float distSqr = (ped.position - _pressScreenPos).sqrMagnitude;
    if (!_isDragging && distSqr >= _dragThresholdSqr)
    {
        ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.beginDragHandler);
        _isDragging = true;
    }

    if (_isDragging)
        ExecuteEvents.Execute(_pressedObject, ped, ExecuteEvents.dragHandler);
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - Awake](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L93)
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - PointerDragTick](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L269)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 2: Down ìƒíƒœì¸ë° ë‹¤ì‹œ Downì´ ë“¤ì–´ì˜¤ë©´ ì´ì „ ì…ë ¥ì´ ì •ë¦¬ë˜ì§€ ì•ŠìŒ</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - PointerDown](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/System/PanelBase.cs#L307)

**ì¤‘ë³µ ì…ë ¥ ë°©ì§€**

```csharp
private void PointerDown(PointerEventData.InputButton btn)
{
    // â˜… ì´ë¯¸ ë­”ê°€ ëˆŒë ¤ìˆë‹¤ë©´ ë¨¼ì € ì •ë¦¬í•˜ê³  ìƒˆë¡œ ì‹œì‘
    if (_pressedObject != null)
        ForceReleasePointer();

    _pressedButton = btn;
    // ...
}

private void ForceReleasePointer()
{
    _pressedObject = null;
    _pressedSupportsDrag = false;
    _isDragging = false;
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - PointerDown](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L225)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 3: ì™¼ìª½ ë²„íŠ¼ìœ¼ë¡œ Down â†’ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ Up ì‹œ ì˜ëª»ëœ ì´ë²¤íŠ¸ ë°œìƒ</b></summary>

<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - PointerUp](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/System/PanelBase.cs#L340)

**ë²„íŠ¼ ì§ ê²€ì¦**

```csharp
// Down ì‹œì ì— ì–´ë–¤ ë²„íŠ¼ì¸ì§€ ì €ì¥
private PointerEventData.InputButton _pressedButton;

private void PointerDown(PointerEventData.InputButton btn)
{
    _pressedButton = btn; // â˜… ì €ì¥
    // ...
}

private void PointerUp(PointerEventData.InputButton btn)
{
    // â˜… ë‹¤ë¥¸ ë²„íŠ¼ì˜ Upì´ë©´ ë¬´ì‹œ
    if (_pressedObject == null || btn != _pressedButton)
        return;
    // ...
}
```

```csharp
// ì‹¤ì œ ì…ë ¥ ë°”ì¸ë”© (ì™¼ìª½/ì˜¤ë¥¸ìª½ êµ¬ë¶„)
_panelInput.OnClickLeftDown  += () => PointerDown(InputButton.Left);
_panelInput.OnClickLeftUp    += () => PointerUp(InputButton.Left);
_panelInput.OnClickRightDown += () => PointerDown(InputButton.Right);
_panelInput.OnClickRightUp   += () => PointerUp(InputButton.Right);
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - PointerDown](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L227)
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - PointerUp](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L291)
<br /> [ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - ì…ë ¥ ë°”ì¸ë”©](https://github.com/Hunobas/Song-Of-Jupitor/blob/28b16dda09ae410124e0763ff97627d8ad92b76d/Scripts/System/PanelBase.cs#L508)

</details>

<details>
<summary><b>ğŸ”§ í•´ê²° ê³¼ì • 4: ìŠ¬ë¼ì´ë“œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë³¸ì²´ê°€ ì•„ë‹Œ í•¸ë“¤ì´ ë°›ìŒ</b></summary>
  
<br /> [ë¬¸ì œ ì½”ë“œ ë³´ê¸° - PointerDown](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/System/PanelBase.cs#L314)

**í•¸ë“¤ëŸ¬ UI ë²„ë¸”ë§ ê¸°ëŠ¥ êµ¬í˜„**

```csharp
// âŒ ê¸°ì¡´: ë ˆì´ìºìŠ¤íŠ¸ íˆíŠ¸ëœ ì˜¤ë¸Œì íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©
var results = RaycastAtCursor();
if (results.Count == 0) return;
_pressedObject = results.FirstOrDefault().gameObject;

// âœ… ê°œì„ : ìƒìœ„ì—ì„œ ì‹¤ì œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ìŒ
private void PointerDown(PointerEventData.InputButton btn)
{
    var hit = HitTopMost();
    if (hit == null) return;

    // â˜… ìš°ì„ ìˆœìœ„ëŒ€ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ ì˜¬ë¼ê°
    _pressedObject =
        FindHandlerTarget<IBeginDragHandler>(hit) ??
        FindHandlerTarget<IDragHandler>(hit) ??
        FindHandlerTarget<IPointerClickHandler>(hit) ??
        FindHandlerTarget<IPointerDownHandler>(hit);
}

private static GameObject FindHandlerTarget<T>(GameObject start) 
    where T : IEventSystemHandler
    => ExecuteEvents.GetEventHandler<T>(start);
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - PointerDown](https://github.com/Hunobas/Song-Of-Jupitor/blob/826a59ee72650fc6df054c2b0edb57e9080fef91/Scripts/System/PanelBase.cs#L233)

</details>

<br />
<br />

---

### [5ï¸âƒ£ ìœ ë‹ˆí‹° ì´ë²¤íŠ¸ê·¸ë˜í”„ â†’ ì–¸ë¦¬ì–¼ ë¸”ë£¨í”„ë¦°íŠ¸ì²˜ëŸ¼ í™•ì¥](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

**ê¸°ì¡´ ì´ë²¤íŠ¸ ê·¸ë˜í”„ëŠ” 2ê°œ ì´ìƒ íŒŒë¼ë¯¸í„° ë©”ì„œë“œ í˜¸ì¶œì´ ë¶ˆê°€ëŠ¥**

Unity ê¸°ë³¸ `UnityEvent`ì—ì„œ ìµœëŒ€ 1ê°œ íŒŒë¼ë¯¸í„°ë§Œ ì§€ì›í•˜ëŠ” `Invoke()` ë…¸ë“œì˜ í•œê³„ê°€ ëª…í™•í–ˆìœ¼ë©°, ì¼ë ¨ì˜ ë…¸ë“œ ì‹¤í–‰ íë¦„ì„ ì œì–´í•  ìˆ˜ë„ ì—†ì—ˆìŠµë‹ˆë‹¤.

- ì»·ì”¬ ì—°ì¶œì— í•„ìš”í•œ ë³µì¡í•œ ë©”ì„œë“œ í˜¸ì¶œ ë¶ˆê°€ (ì˜ˆ: `SetCameraShake(amplitude, frequency, duration)`)
- íŒŒë¼ë¯¸í„°ë§ˆë‹¤ ë…¸ë“œë¥¼ ìª¼ê°œë©´ **ì‹¤í–‰ ìˆœì„œ ë³´ì¥ ì•ˆ ë¨**
- **Unreal ë¸”ë£¨í”„ë¦°íŠ¸**ì²˜ëŸ¼ í•œ ë…¸ë“œì˜ ì‹¤í–‰ì´ ì •í™•íˆ ëë‚˜ëŠ” ìˆœê°„ ë‹¤ìŒ ë…¸ë“œë¡œ ì‹¤í–‰ì´ ë¶ˆê°€ëŠ¥

<img width="781" height="366" alt="image" src="https://github.com/user-attachments/assets/69ea3e47-2097-444d-8cc9-b94cc31b73b1" />
<br /> *â†‘ ìµœëŒ€ 1ê°œ íŒŒë¼ë¯¸í„° ë©”ì„œë“œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê¸°ì¡´ ì´ë²¤íŠ¸ê·¸ë˜í”„ `Invoke` ë…¸ë“œ*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

1. **IActionNode ì¸í„°í˜ì´ìŠ¤ë¡œ ë…¸ë“œ ìƒëª…ì£¼ê¸° ì •ì˜**
```csharp
public interface IActionNode
{
    void Init();                      // ëŸ°íƒ€ì„ ì´ˆê¸°í™”
    void OnStart(CoroutineDelegator); // ì‹¤í–‰ ì‹œì‘
    void OnUpdate(float deltaTime);   // ë§¤ í”„ë ˆì„ ê°±ì‹ 
    void OnComplete();                // ì •ë¦¬
    bool IsFinished { get; }          // ì™„ë£Œ ì—¬ë¶€
}
```

2. **WaitPolicyë¡œ ì‹¤í–‰ íë¦„ ì œì–´**
```csharp
public enum WaitPolicy 
{ 
    Inherit,      // ë…¸ë“œ ì„¤ì • ë”°ë¦„
    ForceWait,    // ê°•ì œë¡œ ì™„ë£Œê¹Œì§€ ëŒ€ê¸°
    ForceNoWait   // ì¦‰ì‹œ ë‹¤ìŒ ë…¸ë“œë¡œ (ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰)
}
```

3. **ActionNodeBaseë¡œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì œê±°**
   - ìì‹ ë…¸ë“œëŠ” `CreateAction()` ë©”ì„œë“œë§Œ êµ¬í˜„
   - Delay, Wait, UnscaledTime ì˜µì…˜ ìë™ ì²˜ë¦¬
   - ì—ë””í„° UI ìë™ ìƒì„±

[ğŸ“‚ EventGraph ì „ì²´ ì½”ë“œ](https://github.com/Hunobas/Song-Of-Jupitor/blob/main/Scripts/EventGraph/EventGraphProcessor.cs)  
[ğŸ“‚ ì‹¤ì „ ë…¸ë“œ 15ê°œ ëª¨ìŒ](https://github.com/Hunobas/Song-Of-Jupitor/tree/main/Scripts/EventGraph/Customs/Nodes)

#### ğŸ“Š ì„±ê³¼

<img width="699" height="425" alt="image" src="https://github.com/user-attachments/assets/3f5355f3-19d4-4490-a180-5c655b812547" />

<br /> **2ê°œ ì´ìƒì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆê³  ì‹¤í–‰ íë¦„ì„ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ê·¸ë˜í”„ ì»¤ìŠ¤í…€ ë…¸ë“œ**

<br />

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 1: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ vs ëŒ€ê¸° ì‹¤í–‰</b></summary>

<br /> **`BakedActionNode`ì—ì„œ `WaitPolicy` ë¶„ê¸° ì²˜ë¦¬**

```csharp
public override void Invoke(Action<BakedEventNode> onDone, BakedEventNode prevNode)
{
    bool mustWait = _policy switch
    {
        WaitPolicy.ForceWait   => true,
        WaitPolicy.ForceNoWait => false,
        _                      => _wait  // Inherit
    };

    if (mustWait) 
        _delegator.InvokeOnMono(RunWaitThenComplete(onDone));
    else
    {
        _delegator.InvokeOnMono(RunImmediatelyAndForget());
        onDone?.Invoke(this);  // ì¦‰ì‹œ ë‹¤ìŒ ë…¸ë“œë¡œ
    }
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - BakedActionNode](https://github.com/Hunobas/Song-Of-Jupitor/blob/ff8e930744aef5769f6bb1d1b53c50be8dc31b3b/Scripts/EventGraph/Customs/ActionNodeBase.cs#L52)

**ì‚¬ìš© ì˜ˆì‹œ:**
- **ForceNoWait**: [ì¹´ë©”ë¼ ì…°ì´í¬](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/EventGraph/Customs/Nodes/Camera/Node_Start6DShake.cs) (2.5ì´ˆ í˜ì´ë“œì•„ì›ƒ ì¤‘ì—ë„ ë‹¤ìŒ ë…¸ë“œ ì§„í–‰)
- **ForceWait**: [ì»·ì”¬ ì´ë¯¸ì§€](https://github.com/Hunobas/Song-Of-Jupitor/blob/a2e7f56c02f078d6600144e669e1234659e749ad/Scripts/EventGraph/Customs/Nodes/Display/Node_CutsceneImage.cs) (Duration ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°)

</details>

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 2: ëŸ°íƒ€ì„ Abort ì‹œìŠ¤í…œ</b></summary>

<br /> ë…¸ë“œ ì‹¤í–‰ ì¤‘ í•„ìˆ˜ ì°¸ì¡°ê°€ `null`ì´ë©´ ë¬´í•œ ëŒ€ê¸°í•˜ë¯€ë¡œ **`EventGraphRuntime` ìŠ¤íƒìœ¼ë¡œ í˜„ì¬ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ì¶”ì **

```csharp
public static class EventGraphRuntime
{
    static readonly Stack<EventGraphProcessor> _stack = new();
    
    public static void Abort(string message, UnityEngine.Object context = null)
        => Current?.Abort(message, context);
}
```

```csharp
// ë…¸ë“œ ë‚´ë¶€ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ
if (brain == null)
{
    EventGraphRuntime.Abort("CinemachineBrainì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.", null);
    return null;
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - EventGraphRuntime](https://github.com/Hunobas/Song-Of-Jupitor/blob/ff8e930744aef5769f6bb1d1b53c50be8dc31b3b/Scripts/EventGraph/EventGraphProcessor.cs#L12)

</details>

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 3: ì—ë””í„° UI ìë™ ìƒì„±</b></summary>

<br /> **`ActionNodeView`ë¡œ ê³µí†µ UI ìë™ ìƒì„± + Reflectionìœ¼ë¡œ íƒ€ì´í‹€ ë³€ê²½**

```csharp
[NodeCustomEditor(typeof(ActionNodeBase))]
public class ActionNodeView : BaseNodeView
{
    public override void Enable(bool fromInspector = false)
    {
        base.Enable(fromInspector);
        
        SetTitle();  // Reflectionìœ¼ë¡œ DisplayName ì¶”ì¶œ
        
        // Wait/Unscaled ì˜µì…˜ ìë™ ì¶”ê°€
        var fWait = new PropertyField(_pWait, "Wait Until Finished");
        var fUnscaled = new PropertyField(_pUnscaled, "Unscaled Time");
        controlsContainer.Add(fWait);
        controlsContainer.Add(fUnscaled);
        
        // ForceWait/ForceNoWaitë©´ UI ë¹„í™œì„±í™”
        if (IsForcedPolicy(out var forced))
            fWait.SetEnabled(false);
    }
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - ActionNodeView](https://github.com/Hunobas/Song-Of-Jupitor/blob/ff8e930744aef5769f6bb1d1b53c50be8dc31b3b/Scripts/EventGraph/Customs/ActionNodeView.cs#L12)

</details>

<br />
<br />

---

### [6ï¸âƒ£ ëª¨ì…˜ë²¡í„° ì—†ëŠ” ì¹´ë©”ë¼ ëª¨ì…˜ë¸”ëŸ¬ ì…°ì´ë” êµ¬í˜„](#-ëª©ì°¨)

#### ğŸš¨ ë¬¸ì œ ìƒí™©

**ì”¬ì— BaseLayer ì¹´ë©”ë¼ê°€ 2ê°œ ì´ìƒ ìˆìœ¼ë©´ ëª¨ì…˜ ë¸”ëŸ¬ ë¬´ì‹œë¨**

Unity URPì—ì„œ BaseLayer ì¹´ë©”ë¼ê°€ ì—¬ëŸ¬ ê°œ ìˆëŠ” ì”¬ì—ì„œëŠ” ëª¨ì…˜ ë²¡í„° ë Œë”ë§ì´ ì¶©ëŒí•˜ì—¬ ëª¨ì…˜ ë¸”ëŸ¬ê°€ ì‘ë™í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

- Unity URPì˜ ëª¨ì…˜ ë¸”ëŸ¬ëŠ” **ëª¨ì…˜ ë²¡í„° í…ìŠ¤ì²˜**ì— ì˜ì¡´
- BaseLayer ì¹´ë©”ë¼ 2ê°œ â†’ ëª¨ì…˜ ë²¡í„° ë Œë” íƒ€ê²Ÿ ì¶©ëŒ
- Volume Overrideì˜ Motion Blurê°€ **ë¨¼ì € ë Œë”ë§ëœ ì¹´ë©”ë¼**ì—ë§Œ ì ìš©
- ë‘ ë²ˆì§¸ ì¹´ë©”ë¼ëŠ” ëª¨ì…˜ ë²¡í„° ì—†ì´ ë Œë”ë§ â†’ **ëª¨ì…˜ ë¸”ëŸ¬ íš¨ê³¼ ì‚¬ë¼ì§**

<img width="1839" height="916" alt="image" src="https://github.com/user-attachments/assets/52ed330a-0238-4c12-be0d-0bc4d6086860" />
<br /> *â†‘ Main Cameraì™€ Player Cameraê°€ ëª¨ë‘ Base Layer â†’ Motion Blur Volume ë¬´ì‹œë¨*

#### ğŸ¯ í•µì‹¬ êµ¬í˜„ í¬ì¸íŠ¸

**ëª¨ì…˜ ë²¡í„°ê°€ í•„ìš” ì—†ëŠ” ì •ì  ë°©í–¥ ë¸”ëŸ¬ Scriptable Render Feature êµ¬í˜„**

1. **2ê°€ì§€ ë¸”ëŸ¬ íƒ€ì… ì§€ì›**
```csharp
public enum BlurType 
{ 
    Linear,  // ê°ë„ ë°©í–¥ìœ¼ë¡œ ë¸”ëŸ¬ (ì¹´ë©”ë¼ ì´ë™ íš¨ê³¼)
    Radial   // ì¤‘ì‹¬ì ì—ì„œ ë°©ì‚¬í˜• ë¸”ëŸ¬ (ì†ë„ê°)
}
```

2. **3ê°€ì§€ ìƒ˜í”Œë§ ë°©ë²•**
```csharp
public enum BlurMethod 
{ 
    Gaussian,      // ê°€ìš°ì‹œì•ˆ ê°€ì¤‘ì¹˜ (ìì—°ìŠ¤ëŸ¬ì›€)
    Fixed,         // ê· ì¼ ê°€ì¤‘ì¹˜ (ë˜ë ·í•¨)
    Proportional   // ê±°ë¦¬ ë¹„ë¡€ ê°€ì¤‘ì¹˜ (ì¤‘ê°„)
}
```

3. **ì• ë‹ˆë©”ì´ì…˜ ì¹œí™”ì  ì„¤ê³„**
   - `CameraBlurController` ì»´í¬ë„ŒíŠ¸ì˜ í•„ë“œë¥¼ ì§ì ‘ ì• ë‹ˆë©”ì´ì…˜ ê°€ëŠ¥
   - Timeline/Animatorì—ì„œ `intensity`, `angleDeg` ë“±ì„ í‚¤í”„ë ˆì„ìœ¼ë¡œ ì œì–´
   - Downsample/Iterationsë¡œ í’ˆì§ˆ-ì„±ëŠ¥ íŠ¸ë ˆì´ë“œì˜¤í”„

[ğŸ“‚ ì „ì²´ ì½”ë“œ ë³´ê¸°](https://github.com/Hunobas/Song-Of-Jupitor/blob/10a1e7beee04279e75c236bbac08075c8c4097b4/Scripts/Renders/CameraBlur/CameraBlurController.cs#L24)  
[ğŸ“‚ Shader ì½”ë“œ](https://github.com/Hunobas/Song-Of-Jupitor/blob/main/Scripts/Renders/CameraBlur/CameraBlur.shader)  
[ğŸ“‚ Render Feature](https://github.com/Hunobas/Song-Of-Jupitor/blob/10a1e7beee04279e75c236bbac08075c8c4097b4/Scripts/Renders/CameraBlur/CameraBlurFeature.cs#L6)

#### ğŸ“Š ì„±ê³¼

![Jupitor-Prologue-WindowsMacLinux-Unity2022 3 62f2_DX11_2025-12-1307-55-40-ezgif com-video-to-gif-converter](https://github.com/user-attachments/assets/359d2e29-2e54-4c56-a11b-4fa64f54b5e4)
<br /> *â†‘ Timelineì—ì„œ í¸ì§‘ ê°€ëŠ¥í•œ ì •ì  ëª¨ì…˜ ë¸”ëŸ¬*

1. ëª¨ì…˜ ë²¡í„° í…ìŠ¤ì²˜ ì˜ì¡´ì„± ì œê±°ëœ ì—°ì¶œ
2. **ê°ë„/ì¤‘ì‹¬ì  ììœ ë¡­ê²Œ ì„¤ì •** ê°€ëŠ¥í•œ ë¸”ëŸ¬ ë°©í–¥
3. Timeline ì• ë‹ˆë©”ì´ì…˜ ì§€ì›
4. ì¹´ë©”ë¼ê°€ ì •ì§€ ìƒíƒœì—ì„œë„ **ì†ë„ê° ì—°ì¶œ ê°€ëŠ¥**

<br />

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 1: Scriptable Render Feature ê¸°ë°˜ êµ¬ì¡°</b></summary>

<br /> **Custom Render Passë¡œ ì™„ì „íˆ ë…ë¦½ì ì¸ ë¸”ëŸ¬ êµ¬í˜„**

```csharp
// Scriptable Renderer Feature
public class CameraBlurFeature : ScriptableRendererFeature 
{
    CameraBlurPass _pass;

    public override void Create() 
    {
        _pass = new CameraBlurPass(Params);
        _pass.renderPassEvent = RenderPassEvent.AfterRenderingPostProcessing;
    }

    public override void AddRenderPasses(ScriptableRenderer renderer, ref RenderingData data) 
    {
        // ì¹´ë©”ë¼ì— CameraBlurControllerê°€ ìˆìœ¼ë©´ í™œì„±í™”
        if (!_pass.Setup(renderer, ref data)) return;
        renderer.EnqueuePass(_pass);
    }
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - CameraBlurFeature](https://github.com/Hunobas/Song-Of-Jupitor/blob/10a1e7beee04279e75c236bbac08075c8c4097b4/Scripts/Renders/CameraBlur/CameraBlurFeature.cs#L6)

</details>

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 2: Linear/Radial Blur ì…°ì´ë”</b></summary>

<br />

**Linear Blur: ê°ë„ ë°©í–¥ìœ¼ë¡œ ë¸”ëŸ¬**

```hlsl
float3 BlurLinear(float2 uv) 
{
    // ê°ë„ë¥¼ ë°©í–¥ ë²¡í„°ë¡œ ë³€í™˜
    float2 dir = float2(cos(_AngleRad), sin(_AngleRad));
    float2 stepUV = dir * _RadiusPx * _TexelSize.xy / max(_RadiusPx, 1.0);
    
    const int TAPS = 13;
    float3 acc = 0; 
    float wsum = 0;
    
    // ë°©í–¥ìœ¼ë¡œ 13ê°œ íƒ­ ìƒ˜í”Œë§
    [unroll] for (int i = -(TAPS/2); i <= (TAPS/2); ++i) 
    {
        float k = (float)i;
        float2 uvk = uv + stepUV * k;
        
        // ê°€ìš°ì‹œì•ˆ/ê· ì¼/ë¹„ë¡€ ê°€ì¤‘ì¹˜ ì„ íƒ
        #if defined(METHOD_GAUSS)
            float w = gaussianWeight(k, sigma);
        #elif defined(METHOD_FIXED)
            float w = 1.0;
        #else
            float w = abs(k) + 1.0;
        #endif
        
        acc += SAMPLE_TEXTURE2D(tex, uvk).rgb * w;
        wsum += w;
    }
    
    return acc / max(wsum, 1e-4);
}
```

**Radial Blur: ì¤‘ì‹¬ì ì—ì„œ ë°©ì‚¬í˜•**

```hlsl
float3 BlurRadial(float2 uv) 
{
    // ì¤‘ì‹¬ì ì—ì„œ í˜„ì¬ í”½ì…€ë¡œì˜ ë°©í–¥
    float2 dir = normalize(uv - _Center);
    float2 stepUV = dir * (_RadiusPx * _TexelSize.xy) / steps;
    
    // ì¤‘ì‹¬ì—ì„œ ë°”ê¹¥ìœ¼ë¡œ 13ê°œ íƒ­ ìƒ˜í”Œë§
    [unroll] for (int i=0; i<TAPS; ++i) 
    {
        float t = ((i/(TAPS-1.0)) - 0.5) * 2.0;
        float2 uvk = uv + stepUV * t * steps;
        // ... ê°€ì¤‘ì¹˜ ê³„ì‚° ë° ëˆ„ì 
    }
    
    return acc / max(wsum, 1e-4);
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - Shader](https://github.com/Hunobas/Song-Of-Jupitor/blob/main/Scripts/Renders/CameraBlur/CameraBlur.shader)

</details>

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 3: ì• ë‹ˆë©”ì´ì…˜ ì¹œí™”ì  ì»¨íŠ¸ë¡¤ëŸ¬</b></summary>

<br /> Volume OverrideëŠ” íƒ€ì„ë¼ì¸ì—ì„œ í‚¤í”„ë ˆì„ ì• ë‹ˆë©”ì´íŒ…ì´ ì–´ë ¤ìš°ë¯€ë¡œ **MonoBehaviour ì»´í¬ë„ŒíŠ¸ë¡œ ì§ì ‘ í•„ë“œ ë…¸ì¶œ**

```csharp
public class CameraBlurController : MonoBehaviour 
{
    // â˜… Timeline/Animatorì—ì„œ ì§ì ‘ í‚¤í”„ë ˆì„ ì„¤ì • ê°€ëŠ¥
    [SerializeField] public bool enabledBlur = false;
    [SerializeField, Range(0f,1f)] public float intensity = 0f;
    [SerializeField, Min(0f)] public float clamp = 8f;
    [SerializeField] public float angleDeg = 0f;                    // Linear ì „ìš©
    [SerializeField] public Vector2 radialCenter01 = new(0.5f,0.5f); // Radial ì „ìš©
    
    [SerializeField, Range(1,4)] public int downsample = 1; // ì„±ëŠ¥ ì œì–´
    [SerializeField, Range(1,4)] public int iterations = 1; // í’ˆì§ˆ ì œì–´
    
    public BlurType type = BlurType.Linear;
    public BlurMethod method = BlurMethod.Gaussian;
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - CameraBlurController](https://github.com/Hunobas/Song-Of-Jupitor/blob/10a1e7beee04279e75c236bbac08075c8c4097b4/Scripts/Renders/CameraBlur/CameraBlurController.cs#L24)

</details>

<details>
<summary><b>ğŸ”§ êµ¬í˜„ ê³¼ì • 4: ë‹¤ìš´ìƒ˜í”Œë¡œ ì„±ëŠ¥ ìµœì í™”</b></summary>

<br />

**ë‹¤ìš´ìƒ˜í”Œ í›„ ë¸”ëŸ¬ â†’ ì—…ìƒ˜í”Œ**

```csharp
public bool Setup(ScriptableRenderer renderer, ref RenderingData rd) 
{
    var desc = rd.cameraData.cameraTargetDescriptor;
    var ds = Mathf.Max(1, st.Downsample); // 1/2/4ë°° ì¶•ì†Œ
    desc.width  /= ds; 
    desc.height /= ds;
    
    // ì¶•ì†Œëœ í•´ìƒë„ì—ì„œ ë¸”ëŸ¬ ìˆ˜í–‰
    RenderingUtils.ReAllocateIfNeeded(ref _tmpA, desc, name: "_BlurTmpA");
    RenderingUtils.ReAllocateIfNeeded(ref _tmpB, desc, name: "_BlurTmpB");
}

public override void Execute(ScriptableRenderContext ctx, ref RenderingData rd) 
{
    // ë‹¤ìš´ìƒ˜í”Œ
    Blitter.BlitCameraTexture(cmd, src, _tmpA);
    
    // Iterationsë§Œí¼ ë°˜ë³µ ë¸”ëŸ¬ (í’ˆì§ˆ í–¥ìƒ)
    for (int i=0; i<_iterations; i++) {
        Blitter.BlitCameraTexture(cmd, _tmpA, _tmpB, _mat, 0);
        (_tmpA, _tmpB) = (_tmpB, _tmpA); // ping-pong
    }
    
    // ê²°ê³¼ë¥¼ ì›ë³¸ í•´ìƒë„ë¡œ í•©ì„±
    Blitter.BlitCameraTexture(cmd, _tmpA, src);
}
```

[ì„¸ë¶€ ì½”ë“œ ë³´ê¸° - CameraBlurPass](https://github.com/Hunobas/Song-Of-Jupitor/blob/10a1e7beee04279e75c236bbac08075c8c4097b4/Scripts/Renders/CameraBlur/CameraBlurPass.cs#L77)

</details>

---
